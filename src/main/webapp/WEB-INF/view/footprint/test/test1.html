@layout("/common/_container.html"){
<div class="row">
    <div class="col-sm-6 col-md-3">
        <a href="#" class="thumbnail">
            <img src="/static/footprint-img/1/K2301020000222015040081.jpg"
                 alt="通用的占位符缩略图">
        </a>
        <a href="#" class="btn btn-primary" role="button" id="testBtn">按钮1</a> 
    </div>
    <div class="col-sm-6 col-md-3">
        <a href="#" class="thumbnail">
            <img src="/static/footprint-img/1/K2301020000222015040086.jpg"
                 alt="通用的占位符缩略图" class="img-circle">
        </a>
    </div>
    <div class="col-sm-6 col-md-3">
        <a href="#" class="thumbnail">
            <img src="/static/footprint-img/1/K2301020000222015050046.jpg"
                 alt="通用的占位符缩略图" class="img-rounded">
        </a>
    </div>
    <div class="col-sm-6 col-md-3">
        <a href="#" class="thumbnail">
        <div class="thumbnail">
            <img src="/static/footprint-img/1/K2301020000222015050047.jpg"
                 alt="通用的占位符缩略图" >
                 <div class="caption">
                <h3>缩略图标签</h3>
                <p>一些示例文本。一些示例文本。</p>
                    <a href="#" class="btn btn-primary" role="button">
                        按钮
                    </a> 
                    <a href="#" class="btn btn-default" role="button">
                        按钮
                    </a>
            </div>
            </div>
        </a>
    </div>
</div>
<script type="text/javascript">
var loadTimer;
var imgObject = new Image();
imgObject.src = 'images/fozzie.jpg';
imgObject.onLoad = onImgLoaded();
function onImgLoaded() {
  if (loadTimer != null) clearTimeout(loadTimer);
  if (!imgObject.complete) {
    loadTimer = setTimeout(function() {
      onImgLoaded();
    }, 3);
  } else {
    onPreloadComplete();
  }
}

$("#testBtn").click(function(){
	alert(1)
})


function onPreloadComplete(){
	  //call the methods that will create a 64-bit version of thumbnail here.
	  var newImg = getImagePortion(imgObject, 120, 150, 150, 80, 2);
	  //place image in appropriate div
	  document.getElementById("images").innerHTML = "<img alt='' src='"+newImg+"' />";
	}
function getImagePortion(imgObj, newWidth, newHeight, startX, startY, ratio){
	 /* the parameters: - the image element - the new width - the new height - the x point we start taking pixels - the y point we start taking pixels - the ratio */
	 //set up canvas for thumbnail
	 var tnCanvas = document.createElement('canvas');
	 var tnCanvasContext = canvas.getContext('2d');
	 tnCanvas.width = newWidth; tnCanvas.height = newHeight;
	 
	 /* use the sourceCanvas to duplicate the entire image. This step was crucial for iOS4 and under devices. Follow the link at the end of this post to see what happens when you don’t do this */
	 var bufferCanvas = document.createElement('canvas');
	 var bufferContext = bufferCanvas.getContext('2d');
	 bufferCanvas.width = imgObj.width;
	 bufferCanvas.height = imgObj.height;
	 bufferContext.drawImage(imgObj, 0, 0);
	 
	 /* now we use the drawImage method to take the pixels from our bufferCanvas and draw them into our thumbnail canvas */
	 tnCanvasContext.drawImage(bufferCanvas, startX,startY,newWidth * ratio, newHeight * ratio,0,0,newWidth,newHeight);
	 return tnCanvas.toDataURL();
	}
</script>
@}
